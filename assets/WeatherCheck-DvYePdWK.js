import{_ as v,r as p,c as u,a as t,b as m,t as n,o as i}from"./index-CCgL-X27.js";const f={class:"wrap"},g={class:"card"},k=["disabled"],y={key:0},C={key:1,class:"err"},W={key:2},b={__name:"WeatherCheck",setup(B){const o=p(!1),s=p(""),a=p(null);async function _(r,e,c){const d=`https://api.open-meteo.com/v1/forecast?latitude=${r}&longitude=${e}&current_weather=true&timezone=auto`,l=await fetch(d);if(!l.ok)throw new Error("Weather request failed");const h=await l.json();if(!h.current_weather)throw new Error("No current weather data");a.value={title:c,temp:h.current_weather.temperature,wind:h.current_weather.windspeed}}async function w(){s.value="",a.value=null,o.value=!0;try{const r=await new Promise((d,l)=>{navigator.geolocation.getCurrentPosition(d,l,{enableHighAccuracy:!0,timeout:1e4})}),{latitude:e,longitude:c}=r.coords;await _(e,c,"Your location")}catch{s.value="Failed to get location"}finally{o.value=!1}}return(r,e)=>(i(),u("section",f,[e[2]||(e[2]=t("h1",null,"WeatherCheck",-1)),t("div",g,[e[0]||(e[0]=t("h2",null,"Check weather using my location",-1)),t("button",{onClick:w,disabled:o.value},n(o.value?"Working...":"Use My Location"),9,k)]),o.value?(i(),u("p",y,"Loading...")):s.value?(i(),u("p",C,n(s.value),1)):a.value?(i(),u("div",W,[t("h2",null,n(a.value.title),1),t("p",null,"Temperature: "+n(Math.round(a.value.temp))+"Â°C",1),t("p",null,"Windspeed: "+n(Math.round(a.value.wind))+" km/h",1),e[1]||(e[1]=t("p",null,"Source: Open-Meteo (current_weather)",-1))])):m("",!0)]))}},x=v(b,[["__scopeId","data-v-9d3641b7"]]);export{x as default};
